{"version":3,"sources":["utils/api.js","components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","index.js"],"names":["API_URL","API_KEY_3","MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","willWatch","_React$createElement","_this2","_this$props","props","movie","removeMovie","addMovieToWillWatch","removeMovieToWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","onClick","bind","type","setState","like","defineProperty","React","Component","MovieTabs","handelClick","value","event","updateSortBy","getClassLink","sort_by","Pagination","page","updatePages","total_pages","disabled","App","getMovies","fetch","then","response","json","data","movies","results","console","log","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWach","prevProps","prevState","components_MovieTabs","map","components_MovieItem","key","onChangePagination","components_Pagination","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.be962a39.chunk.js","sourcesContent":["export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      willWatch: false,\r\n    };\r\n  }\r\n\r\n  // componentWillMount() {\r\n  //   console.log(\"unmount \", this.props.movie.title);\r\n  // }\r\n\r\n  render() {\r\n    // const MovieItem = (props) => {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMovieToWillWatch,\r\n      removeMovieToWillWatch,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w500${\r\n            movie.backdrop_path || movie.poster_path\r\n          }`}\r\n          alt=\"\"\r\n          className=\"card-img-top\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div className=\"d-flrex justify-content-between align-item-center\">\r\n            <p className=\"mb-0\">Raiting :{movie.vote_average}</p>\r\n\r\n            <button onClick={removeMovie.bind(this, movie)} className=\"mr-4\">\r\n              Delete movie\r\n            </button>\r\n            {this.state.willWatch === true ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success ml-4\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false,\r\n                  });\r\n                  //   handleLike(movie);\r\n                  removeMovieToWillWatch(movie);\r\n                }}\r\n              >\r\n                REmove Will Watch\r\n              </button>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                className={this.state.like ? \"btn--like\" : \" \"}\r\n                className=\"btn btn-secondary ml-4\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: true,\r\n                  });\r\n                  //handleLike();\r\n                  addMovieToWillWatch(movie);\r\n                }}\r\n              >\r\n                Add Will Watch\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  // }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  render() {\r\n    const handelClick = (value) => {\r\n      return (event) => {\r\n        this.props.updateSortBy(value);\r\n      };\r\n    };\r\n\r\n    const getClassLink = (value) => {\r\n      return `nav-link ${this.props.sort_by === value ? \"active\" : \"\"} `;\r\n    };\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handelClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handelClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handelClick(\"vote_average.desc\")}\r\n          >\r\n            Voite avarage desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nclass Pagination extends React.Component {\r\n  render() {\r\n    const { page, total_pages, updatePages } = this.props;\r\n    const handelClick = (value) => {\r\n      return (event) => {\r\n        updatePages(value);\r\n      };\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"btn-group btn-pagination\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary mr-2\"\r\n            disabled={page === 1}\r\n            onClick={handelClick(page - 1)}\r\n          >\r\n            Назад\r\n          </button>\r\n          <div className=\"btn\">{page}</div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary ml-2\"\r\n            onClick={handelClick(page + 1)}\r\n          >\r\n            Вперед\r\n          </button>\r\n        </div>\r\n        {/* <div className=\"page-pagination\">\r\n          {page} из {total_pages}\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\nimport { API_URL, API_KEY_3, API_KEY_4 } from \"../utils/api\";\n//import { moviesData } from \"../moviesData.js\";\nimport MovieItem from \"../components/MovieItem\";\nimport MovieTabs from \"../components/MovieTabs\";\nimport Pagination from \"../components/Pagination\";\n\n// function removeMovie(movie) {\n//   const updateMovies = this.state.movies.filter(function (item) {\n//     return item.id != movie.id;\n//   });\n//   console.log(updateMovies);\n//   this.setState({\n//     movies: updateMovies,\n//   });\n// }\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      moviesWillWach: [],\n      sort_by: \"popularity.desc\",\n      page: 25,\n      total_pages: 500,\n    };\n  }\n  // onChangePagination = (page) => {\n  //   this.setState({\n  //     page: page,\n  //   });\n  // };\n\n  componentDidMount() {\n    console.log(\"didMount\");\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"did update\");\n    // console.log(\"prev\", prevProps, prevState);\n    // console.log(\"this\", this.props, this.state);\n    if (prevState.sort_by != this.state.sort_by) {\n      console.log(\"call api\");\n      this.getMovies();\n    }\n    if (prevState.page != this.state.page) {\n      console.log(\"call page\");\n      this.getMovies(this.state.page);\n      console.log(this.state.page);\n    }\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&language=ru-ru&sort_by=${this.state.sort_by}&page=${this.state.page}`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          movies: data.results,\n        });\n        console.log(this.state.page);\n      });\n  };\n\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter(function (item) {\n      return item.id != movie.id;\n    });\n    console.log(updateMovies);\n    this.setState({\n      movies: updateMovies,\n    });\n  };\n\n  addMovieToWillWatch = (movie) => {\n    //console.log(movie);\n    //this.state.moviesWillWach.push(movie);\n    const updateMoviesWillWatch = [...this.state.moviesWillWach, movie];\n    //  updateMoviesWillWatch.push(movie);\n    this.setState({\n      moviesWillWach: updateMoviesWillWatch,\n    });\n  };\n\n  removeMovieToWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.moviesWillWach.filter(function (\n      item\n    ) {\n      return item.id != movie.id;\n    });\n    this.setState({\n      moviesWillWach: updateMoviesWillWatch,\n    });\n  };\n\n  updateSortBy = (value) => {\n    this.setState({ sort_by: value, page: 1 });\n  };\n\n  updatePages = (value) => {\n    this.setState({\n      page: value,\n    });\n  };\n\n  render() {\n    //  console.log(this);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <div className=\"col-12 mb-4\">\n              <MovieTabs\n                sort_by={this.state.sort_by}\n                updateSortBy={this.updateSortBy}\n              />\n            </div>\n\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\">\n                    <MovieItem\n                      key={movie.id}\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieToWillWatch={this.removeMovieToWillWatch}\n                      // pagination={this.pagination}\n                      onChangePagination={this.onChangePagination}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <Pagination\n              page={this.state.page}\n              total_pages={this.state.total_pages}\n              updatePages={this.updatePages}\n            />\n            <p>Will watch : {this.state.moviesWillWach.length}</p>\n            <ul>\n              {this.state.moviesWillWach.map((movie) => {\n                return <li>{movie.title}</li>;\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// function App() {\n//   console.log(moviesData);\n//   return <div>Hello ReactWarriors!</div>;\n// }\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}